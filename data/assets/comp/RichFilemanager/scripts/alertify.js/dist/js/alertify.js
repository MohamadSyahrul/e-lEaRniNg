!function(){"use strict";function t(t){var e=t.offsetHeight,n=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,o=n/2-e/2;t.style.top=o+"px"}function e(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild}function n(t,e){var n="data-"+e,o=document.createElement("div");o.appendChild(t);var i=o.querySelector("["+n+"]");if(!i)throw new Error('Unable to find: "'+n+'" attribute.');return i}function o(t,e){var n=t.getAttribute("class"),o=n?n.split(" "):[],i=o.indexOf(e);i!==-1&&o.splice(i,1),t.className=o.join(" ")}function i(t,e){var n=t.getAttribute("class"),o=n?n.split(" "):[];o.push(e),t.className=o.join(" ")}function a(t){return JSON.parse(JSON.stringify(t))}function l(){var l={parent:document.body,dialogWidth:"400px",dialogPersistent:!0,dialogContainerClass:"alertify",dialogButtons:{ok:{label:"Ok",autoClose:!0,template:'<button data-alertify-btn="ok" tabindex="1"></button>'},cancel:{label:"Cancel",autoClose:!0,template:'<button data-alertify-btn="cancel" tabindex="2"></button>'},custom:{label:"Custom",autoClose:!1,template:'<button data-alertify-btn tabindex="3"></button>'}},logDelay:5e3,logMaxItems:2,logPosition:"bottom left",logContainerClass:"alertify-logs",logTemplateMethod:null,templates:{dialogButtonsHolder:"<nav data-alertify-btn-holder></nav>",dialogMessage:"<div data-alertify-msg></div>",dialogInput:'<input data-alertify-input type="text">',logMessage:"<div data-alertify-log-msg></div>"}},r={version:"1.0.11",parent:l.parent,dialogWidth:l.dialogWidth,dialogPersistent:l.dialogPersistent,dialogContainerClass:l.dialogContainerClass,dialogButtons:a(l.dialogButtons),promptValue:"",logDelay:l.logDelay,logMaxItems:l.logMaxItems,logPosition:l.logPosition,logContainerClass:l.logContainerClass,logTemplateMethod:l.logTemplateMethod,templates:a(l.templates),build:function(t,o){var i={};if(i.container=document.createElement("div"),i.container.className=this.dialogContainerClass+" hide",i.wrapper=document.createElement("div"),i.wrapper.className="dialog",i.dialog=document.createElement("div"),i.dialog.style.width=this.dialogWidth,i.content=document.createElement("div"),i.content.className="content","dialog"===t.type?i.content.innerHTML=t.message:(i.messageWrapper=e(this.templates.dialogMessage),i.message=n(i.messageWrapper,"alertify-msg"),i.message.innerHTML=t.message,i.content.appendChild(i.messageWrapper)),i.buttonsWrapper=e(this.templates.dialogButtonsHolder),i.buttonsHolder=n(i.buttonsWrapper,"alertify-btn-holder"),"prompt"===t.type){var a=e(this.templates.dialogInput);i.input=n(a,"alertify-input"),i.content.appendChild(a)}i.container.appendChild(i.wrapper),i.wrapper.appendChild(i.dialog),i.dialog.appendChild(i.content),i.dialog.appendChild(i.buttonsWrapper),i.buttonsHolder.innerHTML="",i.buttons=[];for(var l=0;l<o.length;l++){var s=n(o[l].element,"alertify-btn");s.innerHTML=o[l].label,i.buttonsHolder.appendChild(o[l].element)}return i},prepareDialogButton:function(t,e){var n={};return!e||"object"!=typeof e||e instanceof Array||(n=e),"function"==typeof e&&(n.click=e),n.type=t,n},createButtonsDefinition:function(t){for(var n=[],o=0;o<t.buttons.length;o++){var i=this.buildButtonObject(t.buttons[o]);("dialog"===t.type||"alert"===t.type&&"ok"===i.type||["confirm","prompt"].indexOf(t.type)!==-1&&["ok","cancel"].indexOf(i.type)!==-1)&&(i.element=e(i.template),n.push(i))}return n},buildButtonObject:function(t){var e={},n=t.type||"custom",o=this.dialogButtons,i=["ok","cancel","custom"];if("undefined"!=typeof t.type&&i.indexOf(t.type)===-1)throw new Error('Wrong button type: "'+t.type+'". Valid values: "'+i.join('", "')+'"');return e.type=n,e.label="undefined"!=typeof t.label?t.label:o[n].label,e.autoClose="undefined"!=typeof t.autoClose?t.autoClose:o[n].autoClose,e.template="undefined"!=typeof t.template?t.template:o[n].template,e.click="undefined"!=typeof t.click?t.click:o[n].click,e},close:function(t,e){e=e&&!isNaN(+e)?+e:this.logDelay,e<0?u(t):e>0&&setTimeout(function(){u(t)},e)},dialog:function(t,e,n){return this.setup({type:e,message:t,buttons:n})},log:function(t,e,n){if(s&&s.elements.length){var o=s.elements.length-this.logMaxItems;if(o>=0)for(var i=0,a=o+1;i<a;i++)this.close(s.elements[i],-1)}this.notify(t,e,n)},setLogContainerClass:function(t){this.logContainerClass=l.logContainerClass+" "+t},setLogPosition:function(t){var e=t.split(" ");["top","bottom"].indexOf(e[0])!==-1&&["left","right"].indexOf(e[1])!==-1&&(this.logPosition=t)},setupLogContainer:function(){var t=this.logContainerClass+" "+this.logPosition,e=s&&s.container.parentNode!==this.parent;s&&!e||(e&&u(s.container),s={},s.container=document.createElement("div"),s.container.className=t,this.parent.appendChild(s.container)),s.container.className!==t&&(s.container.className=t)},notify:function(t,o,a){this.setupLogContainer();var l={},d={};l.dom=d,d.wrapper=e(this.templates.logMessage),d.message=n(d.wrapper,"alertify-log-msg"),i(d.message,o),r.logTemplateMethod?d.message.innerHTML=r.logTemplateMethod(t):d.message.innerHTML=t,l.closeLog=function(){u(d.wrapper)},"function"==typeof a&&d.wrapper.addEventListener("click",function(t){a(t,l)}),s.elements||(s.elements=[]),s.elements.push(d.wrapper),s.container.appendChild(d.wrapper),setTimeout(function(){d.wrapper.className+=" show"},10),this.close(d.wrapper,this.logDelay)},setup:function(e){function n(t){"function"!=typeof t&&(t=function(){});for(var e=0;e<l.length;e++){var n=l[e],o=function(e){return function(n){a=e,e.click&&"function"==typeof e.click&&e.click(n,r),t({ui:r,event:n}),e.autoClose===!0&&r.closeDialog()}}(n);n.element.addEventListener("click",o)}d&&d.addEventListener("keyup",function(t){13===t.which&&i.click()})}for(var i,a,l=this.createButtonsDefinition(e),s=this.build(e,l),r={},d=s.input,c=0;c<l.length;c++)"ok"===l[c].type&&(i=l[c].element);d&&"string"==typeof this.promptValue&&(d.value=this.promptValue),r.dom=s,r.closeDialog=function(){u(s.container)},r.centerDialog=function(){t(s.wrapper)},r.setMessage=function(t){s.message.innerHTML=t},r.setContent=function(t){s.content.innerHTML=t},r.getInputValue=function(){if(s.input)return s.input.value},r.getButtonObject=function(){if(a)return{type:a.type,label:a.label,autoClose:a.autoClose,element:a.element}};var p;return"function"==typeof Promise?p=new Promise(n):n(),this.dialogPersistent===!1&&s.container.addEventListener("click",function(t){t.target!==this&&t.target!==s.wrapper||u(s.container)}),window.onresize=function(){r.centerDialog()},this.parent.appendChild(s.container),setTimeout(function(){o(s.container,"hide"),r.centerDialog(),d&&e.type&&"prompt"===e.type?(d.select(),d.focus()):i&&i.focus()},100),p},setLogDelay:function(t){return t=t||0,this.logDelay=isNaN(t)?l.logDelay:parseInt(t,10),this},setLogMaxItems:function(t){this.logMaxItems=parseInt(t||l.logMaxItems)},setDialogWidth:function(t){"number"==typeof t&&(t+="px"),this.dialogWidth="string"==typeof t?t:l.dialogWidth},setDialogPersistent:function(t){this.dialogPersistent=t},setDialogContainerClass:function(t){this.dialogContainerClass=l.dialogContainerClass+" "+t},setTheme:function(t){if(t){if("string"==typeof t)switch(t.toLowerCase()){case"bootstrap":this.dialogButtons.ok.template='<button data-alertify-btn="ok" class="btn btn-primary" tabindex="1"></button>',this.dialogButtons.cancel.template='<button data-alertify-btn="cancel" class="btn btn-danger" tabindex="2"></button>',this.dialogButtons.custom.template='<button data-alertify-btn="custom" class="btn btn-default" tabindex="3"></button>',this.templates.dialogInput="<input data-alertify-input class='form-control' type='text'>";break;case"purecss":this.dialogButtons.ok.template='<button data-alertify-btn="ok" class="pure-button" tabindex="1"></button>',this.dialogButtons.cancel.template='<button data-alertify-btn="cancel" class="pure-button" tabindex="2"></button>',this.dialogButtons.custom.template='<button data-alertify-btn="custom" class="pure-button" tabindex="3"></button>';break;case"mdl":case"material-design-light":this.dialogButtons.ok.template='<button data-alertify-btn="ok" class=" mdl-button mdl-js-button mdl-js-ripple-effect"  tabindex="1"></button>',this.dialogButtons.cancel.template='<button data-alertify-btn="cancel" class=" mdl-button mdl-js-button mdl-js-ripple-effect" tabindex="2"></button>',this.dialogButtons.custom.template='<button data-alertify-btn="custom" class=" mdl-button mdl-js-button mdl-js-ripple-effect" tabindex="3"></button>',this.templates.dialogInput='<div class="mdl-textfield mdl-js-textfield"><input data-alertify-input class="mdl-textfield__input"></div>';break;case"angular-material":this.dialogButtons.ok.template='<button data-alertify-btn="ok" class="md-primary md-button" tabindex="1"></button>',this.dialogButtons.cancel.template='<button data-alertify-btn="cancel" class="md-button" tabindex="2"></button>',this.dialogButtons.custom.template='<button data-alertify-btn="custom" class="md-button" tabindex="3"></button>',this.templates.dialogInput='<div layout="column"><md-input-container md-no-float><input data-alertify-input type="text"></md-input-container></div>';break;case"default":default:this.dialogButtons=a(l.dialogButtons),this.templates=a(l.templates)}if("object"==typeof t){var e=Object.keys(this.templates);for(var n in t){if(e.indexOf(n)===-1)throw new Error('Wrong template name: "'+n+'". Valid values: "'+e.join('", "')+'"');this.templates[n]=t[n]}}}},reset:function(){this.setTheme("default"),this.parent=l.parent,this.dialogWidth=l.dialogWidth,this.dialogPersistent=l.dialogPersistent,this.dialogContainerClass=l.dialogContainerClass,this.promptValue="",this.logDelay=l.logDelay,this.logMaxItems=l.logMaxItems,this.logPosition=l.logPosition,this.logContainerClass=l.logContainerClass,this.logTemplateMethod=null},injectCSS:function(){if(!document.querySelector("#alertifyCSS")){var t=document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.id="alertifyCSS",t.insertBefore(e,t.firstChild)}},removeCSS:function(){var t=document.querySelector("#alertifyCSS");t&&t.parentNode&&t.parentNode.removeChild(t)}};return r.injectCSS(),{_$$alertify:r,_$$defaults:l,parent:function(t){r.parent=t},reset:function(){return r.reset(),this},dialog:function(t,e){return r.dialog(t,"dialog",e)||this},alert:function(t,e){var n=[r.prepareDialogButton("ok",e)];return r.dialog(t,"alert",n)||this},confirm:function(t,e,n){var o=[r.prepareDialogButton("ok",e),r.prepareDialogButton("cancel",n)];return r.dialog(t,"confirm",o)||this},prompt:function(t,e,n,o){var i=[r.prepareDialogButton("ok",n),r.prepareDialogButton("cancel",o)];return r.promptValue=e||"",r.dialog(t,"prompt",i)||this},log:function(t,e){return r.log(t,"default",e),this},success:function(t,e){return r.log(t,"success",e),this},warning:function(t,e){return r.log(t,"warning",e),this},error:function(t,e){return r.log(t,"error",e),this},dialogWidth:function(t){return r.setDialogWidth(t),this},dialogPersistent:function(t){return r.setDialogPersistent(t),this},dialogContainerClass:function(t){return r.setDialogContainerClass(t||""),this},logDelay:function(t){return r.setLogDelay(t),this},logMaxItems:function(t){return r.setLogMaxItems(t),this},logPosition:function(t){return r.setLogPosition(t||""),this},logContainerClass:function(t){return r.setLogContainerClass(t||""),this},logMessageTemplate:function(t){return r.logTemplateMethod=t,this},theme:function(t){return r.setTheme(t),this},clearDialogs:function(){for(var t;t=r.parent.querySelector(":scope > ."+l.dialogContainerClass);)r.parent.removeChild(t);return this},clearLogs:function(){return s&&(s.container.innerHTML=""),this},version:r.version}}var s,r=500,u=function(t){if(t){var e=function(){t&&t.parentNode&&t.parentNode.removeChild(t)};o(t,"show"),i(t,"hide"),t.addEventListener("transitionend",e),setTimeout(e,r)}};if("undefined"!=typeof module&&module&&module.exports){module.exports=function(){return new l};var d=new l;for(var c in d)module.exports[c]=d[c]}else"function"==typeof define&&define.amd?define(function(){return new l}):window.alertify=new l}();